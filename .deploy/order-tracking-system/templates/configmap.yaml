apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "order-tracking-system.fullname" . }}
  labels:
    {{- include "order-tracking-system.labels" . | nindent 4 }}
data:
  config.yml: |-
    server:
      port: "{{ .Values.config.server.port }}"

    postgres:
      master_db:
        host: "{{ .Values.config.postgres.masterDb.host }}"
        port: "{{ .Values.config.postgres.masterDb.port }}"
        user: "{{ .Values.config.postgres.masterDb.user }}"
        password: "{{ .Values.config.postgres.masterDb.password }}"
        db_name: "{{ .Values.config.postgres.masterDb.db_name }}"
        auto_create_tables: {{ .Values.config.postgres.masterDb.auto_create_tables }}

      slaveDb:
        host: "{{ .Values.config.postgres.slaveDb.host }}"
        port: "{{ .Values.config.postgres.slaveDb.port }}"
        user: "{{ .Values.config.postgres.slaveDb.user }}"
        password: "{{ .Values.config.postgres.slaveDb.password }}"
        db_name: "{{ .Values.config.postgres.slaveDb.db_name }}"
        auto_create_tables: {{ .Values.config.postgres.slaveDb.auto_create_tables }}
